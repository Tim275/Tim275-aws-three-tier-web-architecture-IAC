# 3 Tier Web Application Architecture Using Terraform and AWS



## Overview
This is a common cloud architecture: An internet-facing Application Load Balancer (ALB) forwards traffic to the web tier of EC2 instances. Those instances are running Nginx webservers that are configured to serve a React.js website and redirects API calls to the application tierâ€™s internal-facing ALB. That internal ALB forwards that traffic to the Node.js application tier of EC2 instances. The application tier manipulates data in an Aurora MySQL multi-AZ database cluster and returns it to our web tier. Load balancing, health checks and autoscaling groups are created at each layer to maintain the availability of this architecture. Here is an example of this in the [AWS workshop](http://catalog.us-east-1.prod.workshops.aws/workshops/85cd2bb2-7f79-4e96-bdee-8078e469752a/en-US) and a YouTube [video](https://www.youtube.com/watch?v=amiIcyt-J2A).

The problem comes in with the time it takes to do this: AWS says this workshop can take around 3 hours and even the YouTube tutorial is over an hour to complete. This won't do in a corporate environment and you'll need to use some sort of automation or infrastructure as code (IaC) tool like HashiCorp's Terraform to manage this process to make it faster, easily repeatable, and less error prone. To make things easier, I'll have a single main.tf file that will go through all the AWS steps in sequence. I'll also be changing a few things from the AWS Workshop such as using GitHub instead of Amazon S3, using Parameter Store to store sensitive values upfront, and incorporating Route 53.

As with the AWS instructions, I'm going to assume you have foundational knowledge around VPC, EC2, RDS, ELB, and the AWS Console. I'll touch on a few Terraform basics but there are many great in-depth resources such as [Travis Media](https://www.youtube.com/watch?v=nvNqfgojocs), [freeCodeCamp](https://www.youtube.com/watch?v=iRaai1IBlB0), [Dreams of Code](https://www.youtube.com/watch?v=cGPyH-PO8vg), and the [Terraform docs](https://developer.hashicorp.com/terraform). Similar to my Serverless Web App project, I'm going to point out important things name out everything since we are following a workshop but I will point out important things as I go along.

